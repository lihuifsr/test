package com.h.mall.myprod.util;

import java.io.IOException;
import java.net.URI;
import java.net.URISyntaxException;
import java.security.KeyManagementException;
import java.security.KeyStoreException;
import java.security.NoSuchAlgorithmException;
import java.security.cert.CertificateException;
import java.util.ArrayList;
import java.util.List;

import org.apache.http.client.utils.URIBuilder;

public class DmTest {
	
	
	//	http://dm.uletm.com/dmv2/ha!saveTest.do
	//	dmCaseId 8042
	//	testStatus 27
	//	failureReason 49
	//	intro 项目取消
	
	public static void main(String[] args) throws KeyManagementException, KeyStoreException, NoSuchAlgorithmException, CertificateException, URISyntaxException, IOException, InterruptedException {
		DmTest.dgdmTest();
	}
	
	
	
//	@Test
	public static void dgdmTest() throws URISyntaxException, KeyManagementException, KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException, InterruptedException{
		
		URI uri = new URIBuilder().setScheme("http")
				.setHost("dm.uletm.com")
				.setPath("/dmv2/ha!saveTest.do")
				.build();
		
		String ids = "5722,5723,5724,5726,5742,5745,5749,5755,5787,5788,5795,5801,5810,5820,5822,5824,5825,5832,5835,5836,5837,5838,5840,5843,5844,5851,5855,5859,5860,5863,5864,5867,5868,5869,5875,5880,5881,5885,5886,5889,5895,5896,5904,5905,5906,5907,5908,5909,5910,5911,5912,5917,5920,5922,5923,5926,5929,5936,5943,5944,5945,5946,5948,5957,5961,5964,5965,5968,5971,5974,5976,5980,5982,5984,5985,5991,6002,6006,6013,6016,6019,6021,6024,6027,6029,6031,6038,6053,6062,6071,6072,6083,6085,6092,6094,6096,6102,6105,6107,6108,6111,6112,6113,6114,6115,6116,6121,6122,6125,6126,6127,6128,6129,6130,6131,6132,6133,6134,6135,6136,6137,6138,6139,6140,6141,6142,6143,6144,6145,6146,6147,6148,6149,6150,6151,6152,6153,6154,6157,6158,6160,6161,6162,6164,6165,6166,6168,6169,6171,6173,6174,6178,6183,6186,6193,6196,6201,6206,6207,6211,6213,6216,6217,6218,6221,6222,6223,6225,6228,6235,6237,6239,6242,6243,6244,6245,6248,6249,6256,6259,6261,6262,6263,6264,6265,6267,6274,6277,6279,6283,6287,6288,6289,6291,6293,6297,6298,6300,6301,6303,6304,6306,6308,6310,6313,6315,6316,6317,6318,6320,6321,6323,6324,6325,6326,6330,6331,6334,6336,6337,6340,6341,6343,6354,6356,6357,6363,6364,6368,6372,6373,6377,6382,6384,6387,6393,6394,6396,6402,6406,6408,6409,6410,6411,6412,6414,6415,6416,6418,6424,6429,6432,6434,6444,6461,6462,6471,6479,6480,6493,6499,6504,6512,6517,6522,6530,6531,6545,6546,6565,6566,6567,6568,6573,6577,6578,6579,6580,6581,6585,6586,6590,6591,6592,6597,6600,6608,6609,6610,6618,6620,6621,6622,6623,6628,6633,6634,6637,6639,6644,6646,6648,6652,6659,6664,6673,6679,6687,6693,6696,6698,6703,6704,6706,6708,6710,6712,6713,6715,6716,6717,6719,6721,6727,6728,6729,6730,6732,6734,6735,6736,6739,6740,6741,6747,6750,6752,6754,6755,6756,6760,6764,6767,6773,6774,6778,6779,6781,6782,6784,6787,6788,6791,6797,6799,6800,6801,6802,6803,6806,6807,6809,6816,6817,6819,6825,6826,6834,6836,6837,6839,6840,6844,6849,6852,6859,6860,6864,6865,6866,6867,6868,6869,6872,6875,6877,6879,6880,6882,6883,6884,6885,6886,6887,6889,6890,6891,6892,6893,6894,6897,6898,6900,6901,6907,6908,6909,6912,6913,6919,6920,6921,6922,6923,6924,6926,6927,6929,6931,6936,6940,6941,6943,6944,6950,6953,6958,6959,6960,6962,6965,6966,6969,6970,6971,6972,6973,6975,6976,6981,6989,6993,6995,6997,6998,6999,7000,7008,7009,7011,7019,7022,7023,7025,7028,7029,7030,7037,7038,7039,7040,7041,7055,7057,7058,7062,7064,7065,7068,7075,7077,7079,7086,7087,7088,7089,7091,7092,7094,7095,7096,7097,7098,7100,7101,7102,7103,7104,7105,7106,7108,7110,7111,7112,7113,7115,7116,7117,7118,7119,7121,7123,7124,7125,7127,7128,7129,7130,7131,7132,7133,7138,7143,7145,7146,7147,7149,7152,7155,7160,7164,7170,7171,7172,7173,7174,7175,7176,7177,7178,7179,7180,7181,7182,7186,7187,7191,7197,7201,7202,7203,7204,7212,7214,7216,7217,7218,7223,7227,7229,7231,7232,7233,7234,7237,7245,7249,7250,7252,7253,7254,7255,7257,7259,7260,7264,7266,7267,7268,7272,7273,7275,7278,7280,7281,7284,7287,7290,7291,7294,7295,7296,7297,7298,7299,7300,7301,7304,7307,7309,7312,7317,7320,7322,7323,7324,7325,7326,7330,7331,7332,7334,7335,7337,7338,7339,7341,7342,7343,7344,7345,7353,7354,7355,7356,7357,7368,7369,7371,7375,7376,7377,7381,7387,7390,7392,7396,7398,7402,7403,7405,7408,7418,7419,7420,7421,7425,7431,7432,7433,7434,7435,7438,7439,7440,7441,7448,7449,7450,7451,7457,7458,7459,7467,7468,7469,7470,7471,7472,7478,7479,7484,7487,7491,7492,7493,7494,7495,7498,7499,7500,7502,7503,7504,7505,7509,7510,7512,7513,7514,7516,7518,7520,7521,7522,7523,7524,7525,7526,7527,7528,7529,7530,7531,7533,7534,7535,7536,7537,7538,7539,7540,7541,7542,7543,7544,7545,7546,7547,7548,7550,7553,7554,7555,7557,7558,7559,7560,7562,7564,7565,7566,7570,7571,7572,7574,7576,7577,7578,7579,7580,7582,7583,7585,7586,7588,7590,7591,7594,7597,7598,7599,7601,7602,7604,7607,7614,7616,7618,7622,7627,7630,7631,7632,7633,7634,7647,7649,7661,7662,7663,7664,7669,7670,7672,7681,7683,7684,7686,7687,7690,7694,7698,7703,7706,7707,7709,7710,7712,7714,7715,7716,7717,7718,7719,7720,7722,7723,7726,7728,7732,7738,7742,7745,7746,7749,7752,7759,7760,7761,7766,7768,7769,7770,7771,7774,7775,7776,7777,7778,7779,7780,7782,7783,7784,7785,7790,7793,7794,7795,7797,7798,7799,7805,7806,7807,7808,7813,7814,7818,7819,7821,7824,7826,7828,7830,7831,7832,7833,7834,7836,7838,7839,7843,7848,7851,7853,7854,7855,7856,7857,7858,7859,7862,7864,7865,7869,7871,7873,7875,7876,7877,7878,7880,7882,7884,7885,7886,7888,7890,7891,7892,7893,7894,7895,7896,7897,7898,7899,7900,7902,7905,7908,7909,7910,7911,7912,7915,7918,7922,7925,7928,7934,7941,7942,7943,7945,7949,7950,7954,7955,7956,7957,7958,7959,7961,7962,7963,7964,7965,7966,7967,7968,7970,7972,7973,7974,7977,7979,7980,7983,7984,7987,7989,7992,7993,7994,7995,7996,7997,7998,7999,8001,8002,8003,8005,8007,8010,8011,8012,8013,8014,8015,8017,8019,8020,8021,8022,8024,8025,8026,8027,8029,8030,8031,8032,8033,8036,8037,8038,8039,8040,8043,8044,8045,8050,8051,8052,8053,8056,8057,8059,8060,8063,8064,8065,8066,8067,8068,8069,8070,8071,8072,8073";		
		String[] idarr  = ids.split(",");
		
		for (int i = 0; i < idarr.length; i++) {
			
			System.out.println("start"+idarr[i]);
			List<String> keys = new ArrayList<String>();
			
			keys.add("dmCaseId");
			keys.add("testStatus");
			keys.add("failureReason");
			keys.add("intro");
			
			List<String> values = new ArrayList<String>();
			
			values.add(idarr[i]);
			values.add("27");
			values.add("49");
			values.add("项目取消");
			
			//Map<String,String> cookieMap = new HashMap<String, String>();

			
			String cookies = "dmRoles=\"96,98,99,103,104,105,107,108,109,118,119,122,127,128,133,137,141,144,146,149,173,174,176,180,181,182,189,192,199,200,212,213,214,215,216,217,221,233,238,243,254,270,272,277,278,280,281,282,289,291,309,323,007004,007005,007008,007009,0030000300035\"; dmUserLoginName=shangsonglin; dmUserLoginNameCn=%E5%95%86%E6%9D%BE%E6%9E%97; dmPlatformType=platformHa; JSESSIONID=A9366D5D7E9A0771DF71A8F35FCC15E1;";
			
			HttpUtil.postSsl(uri, keys, values, null, cookies,false);
			
			System.out.println("ok"+idarr[i]);
		 	
			Thread.sleep(20000);
		}
		
	}

}
